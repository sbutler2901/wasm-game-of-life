(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[,function(e,t,n){"use strict";n.r(t);var r=n(3),l=n.n(r),a=n(8),c=n.n(a),o=n(5),i=n(2);n(12);const u=({nowTimestamp:e})=>{const[t,n]=Object(r.useState)(e),[a,c]=Object(r.useState)([]),[o,i]=Object(r.useState)(0),[u,s]=Object(r.useState)(0),[f,h]=Object(r.useState)(0),[d,m]=Object(r.useState)(0);return Object(r.useEffect)(()=>{const r=1/(e-t)*1e3;a.push(r),a.length>100&&a.shift();let l=1/0,o=-1/0,u=0;for(let e=0;e<a.length;e++)u+=a[e],l=Math.min(a[e],l),o=Math.max(a[e],o);let f=u/a.length;f===1/0&&(f=0),l===1/0&&(l=0),o===1/0&&(o=0),n(e),c(a),i(Math.round(r)),s(Math.round(f)),h(Math.round(l)),m(Math.round(o))},[e]),l.a.createElement("div",{id:"fps"},l.a.createElement("h4",null,"Frames per Second:"),l.a.createElement("p",null,"latest: ",o),l.a.createElement("p",null,"mean of last 100: ",u),l.a.createElement("p",null,"min of last 100: ",f),l.a.createElement("p",null,"max of last 100: ",d))},s=i.b.new(),f=s.width();s.height();let h,d,m=null;const p=(e,t)=>e*f+t,g=()=>{d(performance.now());for(let e=0;e<3;e++)s.tick();h(),m=requestAnimationFrame(g)},b=()=>{s.clear(),h()},w=()=>{s.reset(),h()},E=()=>{g()},_=()=>{cancelAnimationFrame(m),m=null},y=()=>{const[e,t]=Object(r.useState)("⏸");return l.a.createElement("button",{id:"play-pause",onClick:()=>{(()=>null===m)()?(t("⏸"),E()):(t("▶"),_())}},e)},v=()=>l.a.createElement("div",{id:"state-btns"},l.a.createElement(y,null),l.a.createElement("button",{id:"clear-btn",onClick:b},"Clear"),l.a.createElement("button",{id:"reset-btn",onClick:w},"Reset"));n(13);let M=5;const j=s.width(),O=s.height();let k,A=null;const C=(e,t)=>{k.fillRect(t*M,e*M,M,M)},S=()=>{(()=>{const e=s.cells(),t=s.changed_cells(),n=2*s.changed_cells_length(),r=new Uint8Array(o.f.buffer,e,j*O),l=new Uint16Array(o.f.buffer,t,n);k.fillStyle="#000000";for(let e=0;e<n;e+=2){const t=l[e],n=l[e+1];r[p(t,n)]===i.a.Alive&&C(t,n)}k.fillStyle="#FFFFFF";for(let e=0;e<n;e+=2){const t=l[e],n=l[e+1];r[p(t,n)]===i.a.Dead&&C(t,n)}s.changed_cells_clear()})()},F=e=>{const t=A.getBoundingClientRect(),n=A.width/t.width,r=A.height/t.height,l=(e.clientX-t.left)*n,a=(e.clientY-t.top)*r,c=Math.min(Math.floor(a/(M+1)),O-1),o=Math.min(Math.floor(l/(M+1)),j-1);e.altKey?s.insert_glider(c,o):e.shiftKey?s.insert_pulsar(c,o):s.toggle_cell(c,o),S()},x=({preRenderCallback:e})=>{const t=Object(r.useRef)(null);return Object(r.useEffect)(()=>((e=>{k=(A=e).getContext("2d"),M=Math.ceil(Math.min(A.width/j,A.height/O))})(t.current),((e,t)=>{h=e,d=t})(S,e),E(),()=>{_()}),[]),l.a.createElement("div",{className:"canvas-container"},l.a.createElement("canvas",{width:"500px",height:"500px",ref:t,onClick:F}))},R=()=>{const[e,t]=Object(r.useState)(performance.now());return l.a.createElement("div",{className:"animation-container"},l.a.createElement("div",null,l.a.createElement("h3",{className:"title"},"Canvas API"),l.a.createElement(v,null),l.a.createElement(u,{nowTimestamp:e})),l.a.createElement(x,{preRenderCallback:t}))};n(14);c.a.render(l.a.createElement(()=>l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"page-title"},"Conway's Game of Life"),l.a.createElement(R,null)),null),document.getElementById("root"))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return M})),n.d(t,"c",(function(){return j})),n.d(t,"h",(function(){return O}));var r=n(5);const l=new Array(32).fill(void 0);function a(e){return l[e]}l.push(void 0,null,!0,!1);let c=l.length;function o(e){const t=a(e);return function(e){e<36||(l[e]=c,c=e)}(e),t}let i=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});i.decode();let u=null;function s(){return null!==u&&u.buffer===r.f.buffer||(u=new Uint8Array(r.f.buffer)),u}function f(e,t){return i.decode(s().subarray(e,e+t))}let h=null;function d(){return null!==h&&h.buffer===r.f.buffer||(h=new Int32Array(r.f.buffer)),h}let m=0,p=new TextEncoder("utf-8");const g="function"==typeof p.encodeInto?function(e,t){return p.encodeInto(e,t)}:function(e,t){const n=p.encode(e);return t.set(n),{read:e.length,written:n.length}};const b=Object.freeze({Dead:0,0:"Dead",Alive:1,1:"Alive"});class w{static __wrap(e){const t=Object.create(w.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.a(e)}width(){return r.t(this.ptr)}height(){return r.l(this.ptr)}cells(){return r.g(this.ptr)}changed_cells(){return r.h(this.ptr)}changed_cells_length(){return r.j(this.ptr)>>>0}changed_cells_clear(){r.i(this.ptr)}toggle_cell(e,t){r.s(this.ptr,e,t)}static new(){var e=r.o();return w.__wrap(e)}reset(){r.q(this.ptr)}clear(){r.k(this.ptr)}render(){try{const n=r.b(-16);r.p(n,this.ptr);var e=d()[n/4+0],t=d()[n/4+1];return f(e,t)}finally{r.b(16),r.c(e,t)}}tick(){r.r(this.ptr)}insert_glider(e,t){r.m(this.ptr,e,t)}insert_pulsar(e,t){r.n(this.ptr,e,t)}}function E(e){o(e)}const _="function"==typeof Math.random?Math.random:(y="Math.random",()=>{throw new Error(`${y} is not defined`)});var y;function v(){return function(e){c===l.length&&l.push(l.length+1);const t=c;return c=l[t],l[t]=e,t}(new Error)}function M(e,t){var n=function(e,t,n){if(void 0===n){const n=p.encode(e),r=t(n.length);return s().subarray(r,r+n.length).set(n),m=n.length,r}let r=e.length,l=t(r);const a=s();let c=0;for(;c<r;c++){const t=e.charCodeAt(c);if(t>127)break;a[l+c]=t}if(c!==r){0!==c&&(e=e.slice(c)),l=n(l,r,r=c+3*e.length);const t=s().subarray(l+c,l+r);c+=g(e,t).written}return m=c,l}(a(t).stack,r.d,r.e),l=m;d()[e/4+1]=l,d()[e/4+0]=n}function j(e,t){try{console.error(f(e,t))}finally{r.c(e,t)}}function O(e,t){throw new Error(f(e,t))}},,,function(e,t,n){"use strict";var r=n.w[e.i];e.exports=r;n(2);r.u()},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){}]]);
//# sourceMappingURL=1.index.js.map